mejor <- function(estado, resultado) {
setwd("~/GitHub/Programacion_Actuarial_lll_OT2016/Caso 2/Calidad de Hospitales - data")
outcome <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
hospital <- vector("numeric")
mor <- vector("numeric")
renglones <- nrow(outcome)
if (resultado == "ataque") {
columna <- 11
} else if (resultado == "falla") {
columna <- 17
} else if (resultado == "neumonía") {
columna <- 23
} else {
columna <- 2
}
if (columna>5) {
h1 <- 0
for (j in 1:renglones) {
if (outcome[j,7] == estado) {
h1 <- length(hospital) + 1
length(hospital) <- h1
length(mor) <- h1
hospital[h1] <- outcome[j,2]
mor[h1] <- outcome[j,columna]
}
}
if (h1>0) {
oldw <- getOption("warn")
options(warn = -1)
v <- as(d,"numeric")
options(warn = oldw)
x <- data.frame(hospital,v,stringsAsFactors = FALSE)
y <- x[order(v,hospital),]
y[1,1]
} else {
stop("Estado inválido")
}
} else {
stop("Resultado inválido")
}
}
mejor("TX","falla")
mejor <- function(estado, resultado) {
setwd("~/GitHub/Programacion_Actuarial_lll_OT2016/Caso 2/Calidad de Hospitales - data")
outcome <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
hospital <- vector("numeric")
mor <- vector("numeric")
renglones <- nrow(outcome)
if (resultado == "ataque") {
columna <- 11
} else if (resultado == "falla") {
columna <- 17
} else if (resultado == "neumonía") {
columna <- 23
} else {
columna <- 2
}
if (columna>5) {
h1 <- 0
for (j in 1:renglones) {
if (outcome[j,7] == estado) {
h1 <- length(hospital) + 1
length(hospital) <- h1
length(mor) <- h1
hospital[h1] <- outcome[j,2]
mor[h1] <- outcome[j,columna]
}
}
if (h1>0) {
oldw <- getOption("warn")
options(warn = -1)
v <- as(mor,"numeric")
options(warn = oldw)
x <- data.frame(hospital,v,stringsAsFactors = FALSE)
y <- x[order(v,hospital),]
y[1,1]
} else {
stop("Estado inválido")
}
} else {
stop("Resultado inválido")
}
}
mejor("TX","falla")
rankhospital <- function(estado, resultado, num) {
outcome <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
hospital <- vector("numeric")
mor <- vector("numeric")
renglones<- nrow(outcome)
if (resultado == "ataque") {
columna <- 11
} else if (resultado == "falla") {
columna <- 17
} else if (resultado == "neumonía") {
columna <- 23
} else {
columna <- 2
}
if (columna>5){
h1 <- 0
for (j in 1:<renglones) {
if (outcome[j,7] == estado) {
h1 <- length(hospital) + 1
length(hospital) <- h1
length(mor) <- h1
hospital[h1] <- outcome[j,2]
mor[h1] <- outcome[j,columna]
}
}
if (h1>0) {
oldw <- getOption("warn")
options(warn = -1)
v <- as(mor,"numeric")
options(warn = oldw)
x <- data.frame(hospital,v,stringsAsFactors = FALSE)
y <- x[order(v,hospital),]
if (num == "mejor") {
y[1,1]
} else if (num == "peor") {
last <- nrow(y[complete.cases(y),])
y[last,1]
} else {
y[num,1]
}
} else {
stop("Estado inválido")
}
} else {
stop("Resultado inválido")
}
}
rankhospital <- function(estado, resultado, num) {
outcome <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
hospital <- vector("numeric")
mor <- vector("numeric")
renglones<- nrow(outcome)
if (resultado == "ataque") {
columna <- 11
} else if (resultado == "falla") {
columna <- 17
} else if (resultado == "neumonía") {
columna <- 23
} else {
columna <- 2
}
if (columna>5){
h1 <- 0
for (j in 1:<renglones) {
if (outcome[j,7] == estado) {
h1 <- length(hospital) + 1
length(hospital) <- h1
length(mor) <- h1
hospital[h1] <- outcome[j,2]
mor[h1] <- outcome[j,columna]
}
}
if (h1>0) {
oldw <- getOption("warn")
options(warn = -1)
v <- as(mor,"numeric")
options(warn = oldw)
x <- data.frame(hospital,v,stringsAsFactors = FALSE)
y <- x[order(v,hospital),]
if (num == "mejor") {
y[1,1]
} else if (num == "peor") {
last <- nrow(y[complete.cases(y),])
y[last,1]
} else {
y[num,1]
}
} else {
stop("Estado inválido")
}
} else {
stop("Resultado inválido")
}
}
rankhospital <- function(estado, resultado, num) {
db <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
h <- vector("numeric")
d <- vector("numeric")
l <- nrow(db)
if (resultado == "ataque") {
c <- 11
} else if (resultado == "falla") {
c <- 17
} else if (resultado == "neumonía") {
c <- 23
} else {
c <- 2
}
if (c>10){
h1 <- 0
for (j in 1:l) {
if (db[j,7] == estado) {
h1 <- length(h) + 1
length(h) <- h1
length(d) <- h1
h[h1] <- db[j,2]
d[h1] <- db[j,c]
}
}
if (h1>0) {
oldw <- getOption("warn")
options(warn = -1)
v <- as(d,"numeric")
options(warn = oldw)
x <- data.frame(h,v,stringsAsFactors = FALSE)
y <- x[order(v,h),]
if (num == "mejor") {
y[1,1]
} else if (num == "peor") {
lz <- nrow(y[complete.cases(y),])
y[lz,1]
} else {
y[num,1]
}
} else {
"ESTADO INVALIDO"
}
} else {
"RESULTADO INVALIDO"
}
}
rankhospital <- function(estado, resultado, num) {
outcome <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
hospital <- vector("numeric")
mor <- vector("numeric")
renglones <- nrow(outcome)
if (resultado == "ataque") {
columna <- 11
} else if (resultado == "falla") {
columna <- 17
} else if (resultado == "neumonía") {
columna <- 23
} else {
columna <- 2
}
if (columna>5){
h1 <- 0
for (j in 1:<renglones) {
if (outcome[j,7] == estado) {
h1 <- length(hospital)+ 1
length(hospital) <- h1
length(mor) <- h1
hospital[h1] <- outcome[j,2]
mor[h1] <- outcome[j,columna]
}
}
if (h1>0) {
oldw <- getOption("warn")
options(warn = -1)
v <- as(mor,"numeric")
options(warn = oldw)
x <- data.frame(hospital,v,stringsAsFactors = FALSE)
y <- x[order(v,hospital),]
if (num == "mejor") {
y[1,1]
} else if (num == "peor") {
last <- nrow(y[complete.cases(y),])
y[last,1]
} else {
y[num,1]
}
} else {
"ESTADO INVALIDO"
}
} else {
"RESULTADO INVALIDO"
}
}
rankhospital <- function(estado, resultado, num) {
setwd("~/GitHub/Programacion_Actuarial_lll_OT2016/Caso 2/Calidad de Hospitales - data")
outcome <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
hospital <- vector("numeric")
mor <- vector("numeric")
renglones<- nrow(outcome)
if (resultado == "ataque") {
columna <- 11
} else if (resultado == "falla") {
columna <- 17
} else if (resultado == "neumonía") {
columna <- 23
} else {
columna <- 2
}
if (columna>5){
h1 <- 0
for (j in 1:<renglones) {
if (outcome[j,7] == estado) {
h1 <- length(hospital) + 1
length(hospital) <- h1
length(mor) <- h1
hospital[h1] <- outcome[j,2]
mor[h1] <- outcome[j,columna]
}
}
if (h1>0) {
oldw <- getOption("warn")
options(warn = -1)
v <- as(mor,"numeric")
options(warn = oldw)
x <- data.frame(hospital,v,stringsAsFactors = FALSE)
y <- x[order(v,hospital),]
if (num == "mejor") {
y[1,1]
} else if (num == "peor") {
last <- nrow(y[complete.cases(y),])
y[last,1]
} else {
y[num,1]
}
} else {
stop("Estado inválido")
}
} else {
stop("Resultado inválido")
}
}
rankhospital <- function(estado, resultado, num) {
outcome <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
hospital <- vector("numeric")
mor <- vector("numeric")
renglones <- nrow(outcome)
if (resultado == "ataque") {
columna <- 11
} else if (resultado == "falla") {
columna <- 17
} else if (resultado == "neumonía") {
columna <- 23
} else {
columna <- 2
}
if (columna>5){
h1 <- 0
for (j in 1:renglones) {
if (outcome[j,7] == estado) {
h1 <- length(hospital)+ 1
length(hospital) <- h1
length(mor) <- h1
hospital[h1] <- outcome[j,2]
mor[h1] <- outcome[j,columna]
}
}
if (h1>0) {
oldw <- getOption("warn")
options(warn = -1)
v <- as(mor,"numeric")
options(warn = oldw)
x <- data.frame(hospital,v,stringsAsFactors = FALSE)
y <- x[order(v,hospital),]
if (num == "mejor") {
y[1,1]
} else if (num == "peor") {
last <- nrow(y[complete.cases(y),])
y[last,1]
} else {
y[num,1]
}
} else {
"ESTADO INVALIDO"
}
} else {
"RESULTADO INVALIDO"
}
}
rankhospital <- function(estado, resultado, num) {
outcome <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
hospital <- vector("numeric")
mor <- vector("numeric")
renglones <- nrow(outcome)
if (resultado == "ataque") {
columna <- 11
} else if (resultado == "falla") {
columna <- 17
} else if (resultado == "neumonía") {
columna <- 23
} else {
columna <- 2
}
if (columna>5){
h1 <- 0
for (j in 1:renglones) {
if (outcome[j,7] == estado) {
h1 <- length(hospital)+ 1
length(hospital) <- h1
length(mor) <- h1
hospital[h1] <- outcome[j,2]
mor[h1] <- outcome[j,columna]
}
}
if (h1>0) {
oldw <- getOption("warn")
options(warn = -1)
v <- as(mor,"numeric")
options(warn = oldw)
x <- data.frame(hospital,v,stringsAsFactors = FALSE)
y <- x[order(v,hospital),]
if (num == "mejor") {
y[1,1]
} else if (num == "peor") {
last <- nrow(y[complete.cases(y),])
y[last,1]
} else {
y[num,1]
}
} else {
"ESTADO INVALIDO"
}
} else {
"RESULTADO INVALIDO"
}
}
rankhospital <- function(estado, resultado, num) {
outcome <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
hospital <- vector("numeric")
mor <- vector("numeric")
renglones <- nrow(outcome)
if (resultado == "ataque") {
columna <- 11
} else if (resultado == "falla") {
columna <- 17
} else if (resultado == "neumonía") {
columna <- 23
} else {
columna <- 2
}
if (columna>5){
h1 <- 0
for (j in 1:renglones) {
if (outcome[j,7] == estado) {
h1 <- length(hospital)+ 1
length(hospital) <- h1
length(mor) <- h1
hospital[h1] <- outcome[j,2]
mor[h1] <- outcome[j,columna]
}
}
if (h1>0) {
oldw <- getOption("warn")
options(warn = -1)
v <- as(mor,"numeric")
options(warn = oldw)
x <- data.frame(hospital,v,stringsAsFactors = FALSE)
y <- x[order(v,hospital),]
if (num == "mejor") {
y[1,1]
} else if (num == "peor") {
last <- nrow(y[complete.cases(y),])
y[last,1]
} else {
y[num,1]
}
} else {
stop("Estado inválido")
}
} else {
"RESULTADO INVALIDO"
}
}
rankhospital <- function(estado, resultado, num) {
outcome <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
hospital <- vector("numeric")
mor <- vector("numeric")
renglones <- nrow(outcome)
if (resultado == "ataque") {
columna <- 11
} else if (resultado == "falla") {
columna <- 17
} else if (resultado == "neumonía") {
columna <- 23
} else {
columna <- 2
}
if (columna>5){
h1 <- 0
for (j in 1:renglones) {
if (outcome[j,7] == estado) {
h1 <- length(hospital)+ 1
length(hospital) <- h1
length(mor) <- h1
hospital[h1] <- outcome[j,2]
mor[h1] <- outcome[j,columna]
}
}
if (h1>0) {
oldw <- getOption("warn")
options(warn = -1)
v <- as(mor,"numeric")
options(warn = oldw)
x <- data.frame(hospital,v,stringsAsFactors = FALSE)
y <- x[order(v,hospital),]
if (num == "mejor") {
y[1,1]
} else if (num == "peor") {
last <- nrow(y[complete.cases(y),])
y[last,1]
} else {
y[num,1]
}
} else {
stop("Estado inválido")
}
} else {
stop("Resultado inválido")
}
}
rankhospital("MD","ataque","peor")
rankhospital("MN","ataque",5000)
rankhospital("MN",lala,5000)
rankhospital("MN","lala",5000)
